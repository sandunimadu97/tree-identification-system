{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Camera, CameraType } from 'expo-camera';\nimport * as ImagePicker from 'expo-image-picker';\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CameraScreen = function CameraScreen(_ref) {\n  var navigation = _ref.navigation;\n  var cameraRef = useRef(null);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isCameraReady = _useState2[0],\n    setIsCameraReady = _useState2[1];\n  var handleCameraReady = function handleCameraReady() {\n    setIsCameraReady(true);\n  };\n  var handleCapturePhoto = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      console.log('Taking photo');\n      console.log(isCameraReady);\n      if (isCameraReady) {\n        if (cameraRef.current) {\n          var photo = yield cameraRef.current.takePictureAsync();\n          console.log('Photo:', photo);\n          navigation.navigate('result', {\n            image: photo.uri\n          });\n        }\n      }\n    });\n    return function handleCapturePhoto() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleChooseFromGallery = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var _yield$ImagePicker$re = yield ImagePicker.requestMediaLibraryPermissionsAsync(),\n        status = _yield$ImagePicker$re.status;\n      if (status === 'granted') {\n        var result = yield ImagePicker.launchImageLibraryAsync({\n          mediaTypes: ImagePicker.MediaTypeOptions.Images,\n          allowsEditing: true,\n          aspect: [4, 3],\n          quality: 1\n        });\n        console.log('Gallery Result:', result);\n        if (!result.canceled) {\n          navigation.navigate('result', {\n            image: result.uri\n          });\n        }\n      }\n    });\n    return function handleChooseFromGallery() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(TouchableOpacity, {\n      style: styles.backButton,\n      onPress: function onPress() {\n        return navigation.goBack();\n      },\n      children: _jsx(Text, {\n        style: styles.backButtonText,\n        children: \"Back\"\n      })\n    }), _jsx(Camera, {\n      style: styles.camera,\n      type: Camera.Constants.Type.back,\n      ref: cameraRef,\n      onCameraReady: handleCameraReady\n    }), _jsxs(View, {\n      style: {\n        width: \"100%\",\n        flexDirection: \"row\",\n        marginTop: 30,\n        justifyContent: \"space-evenly\"\n      },\n      children: [_jsx(TouchableOpacity, {\n        style: styles.captureButton,\n        onPress: handleCapturePhoto,\n        disabled: isCameraReady,\n        children: _jsx(Ionicons, {\n          name: \"camera-outline\",\n          size: 20,\n          color: \"#fff\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.galleryButton,\n        onPress: handleChooseFromGallery,\n        children: _jsx(Ionicons, {\n          name: \"images-outline\",\n          size: 20,\n          color: \"#fff\"\n        })\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  backButton: {\n    position: 'absolute',\n    top: 50,\n    left: 20,\n    zIndex: 1,\n    backgroundColor: 'transparent'\n  },\n  backButtonText: {\n    fontSize: 18,\n    color: 'black'\n  },\n  camera: {\n    width: '90%',\n    height: 500\n  },\n  captureButton: {\n    backgroundColor: 'black',\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 8,\n    paddingHorizontal: 20\n  },\n  captureButtonText: {\n    fontSize: 12,\n    color: 'white'\n  },\n  galleryButton: {\n    backgroundColor: 'black',\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 8,\n    paddingHorizontal: 20\n  },\n  galleryButtonText: {\n    fontSize: 12,\n    color: 'white'\n  }\n});\nexport default CameraScreen;","map":{"version":3,"names":["React","useRef","useState","View","StyleSheet","TouchableOpacity","Text","Camera","CameraType","ImagePicker","SafeAreaView","Ionicons","jsx","_jsx","jsxs","_jsxs","CameraScreen","_ref","navigation","cameraRef","_useState","_useState2","_slicedToArray","isCameraReady","setIsCameraReady","handleCameraReady","handleCapturePhoto","_ref2","_asyncToGenerator","console","log","current","photo","takePictureAsync","navigate","image","uri","apply","arguments","handleChooseFromGallery","_ref3","_yield$ImagePicker$re","requestMediaLibraryPermissionsAsync","status","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","style","styles","container","children","backButton","onPress","goBack","backButtonText","camera","type","Constants","Type","back","ref","onCameraReady","width","flexDirection","marginTop","justifyContent","captureButton","disabled","name","size","color","galleryButton","create","flex","alignItems","position","top","left","zIndex","backgroundColor","fontSize","height","borderRadius","paddingHorizontal","captureButtonText","galleryButtonText"],"sources":["G:/Work/Shenal/App/src/Views/Camera.js"],"sourcesContent":["import React, {useRef, useState} from 'react';\r\nimport {View, StyleSheet, TouchableOpacity, Text} from 'react-native';\r\nimport {Camera, CameraType} from 'expo-camera';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport {SafeAreaView} from \"react-native-safe-area-context\";\r\nimport {Ionicons} from \"@expo/vector-icons\";\r\nconst CameraScreen = ({navigation}) => {\r\n    const cameraRef = useRef(null);\r\n    const [isCameraReady, setIsCameraReady] = useState(true);\r\n\r\n    const handleCameraReady = () => {\r\n        setIsCameraReady(true);\r\n    };\r\n\r\n    const handleCapturePhoto = async () => {\r\n        console.log('Taking photo');\r\n        console.log(isCameraReady);\r\n        if (isCameraReady) {\r\n            if (cameraRef.current) {\r\n                const photo = await cameraRef.current.takePictureAsync();\r\n                console.log('Photo:', photo);\r\n                navigation.navigate('result', {image: photo.uri});\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleChooseFromGallery = async () => {\r\n        const {status} = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n        if (status === 'granted') {\r\n            const result = await ImagePicker.launchImageLibraryAsync({\r\n                mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n                allowsEditing: true,\r\n                aspect: [4, 3],\r\n                quality: 1,\r\n            });\r\n            console.log('Gallery Result:', result);\r\n            if (!result.canceled) {\r\n                navigation.navigate('result', {image: result.uri});\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <TouchableOpacity style={styles.backButton} onPress={() => navigation.goBack()}>\r\n                <Text style={styles.backButtonText}>Back</Text>\r\n            </TouchableOpacity>\r\n            <Camera style={styles.camera} type={Camera.Constants.Type.back} ref={cameraRef}\r\n                    onCameraReady={handleCameraReady}/>\r\n            <View style={{width: \"100%\", flexDirection: \"row\", marginTop: 30, justifyContent: \"space-evenly\"}}>\r\n                <TouchableOpacity style={styles.captureButton} onPress={handleCapturePhoto} disabled={isCameraReady}>\r\n                    <Ionicons name={\"camera-outline\"} size={20} color={\"#fff\"}/>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.galleryButton} onPress={handleChooseFromGallery}>\r\n                    <Ionicons name={\"images-outline\"} size={20} color={\"#fff\"}/>\r\n                </TouchableOpacity>\r\n            </View>\r\n        </SafeAreaView>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    backButton: {\r\n        position: 'absolute',\r\n        top: 50,\r\n        left: 20,\r\n        zIndex: 1,\r\n        backgroundColor: 'transparent',\r\n    },\r\n    backButtonText: {\r\n        fontSize: 18,\r\n        color: 'black',\r\n    },\r\n    camera: {\r\n        width: '90%',\r\n        height: 500,\r\n    },\r\n    captureButton: {\r\n        backgroundColor: 'black',\r\n        height: 50,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        borderRadius: 8,\r\n        paddingHorizontal: 20,\r\n    },\r\n    captureButtonText: {\r\n        fontSize: 12,\r\n        color: 'white',\r\n    },\r\n    galleryButton: {\r\n        backgroundColor: 'black',\r\n        height: 50,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        borderRadius: 8,\r\n        paddingHorizontal: 20,\r\n    },\r\n    galleryButtonText: {\r\n        fontSize: 12,\r\n        color: 'white',\r\n    },\r\n});\r\n\r\nexport default CameraScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}